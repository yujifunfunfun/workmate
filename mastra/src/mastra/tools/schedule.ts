import { createTool } from "@mastra/core/tools";
import { z } from "zod";


export const getScheduleTool = createTool({
  id: "get-schedule-info",
  description: "usernameからスケジュールを取得します。",
  inputSchema: z.object({
    username: z.string().describe("ユーザー名"),
  }),
  outputSchema: z.object({
    schedule: z.array(z.string()).describe("ユーザーのスケジュール"),
  }),
  execute: async ({ context }) => {
    const username = context.username;

    const schedules: { [key: string]: string[] } = {
      testuser: [
        "月曜日: 8:00-9:00 メール確認, 9:00-10:30 朝会議, 10:30-12:00 コード作成, 12:00-13:00 ランチ, 13:00-15:00 プロジェクトA開発, 16:00-17:30 チームMTG, 17:30-19:00 残務処理",
        "火曜日: 8:00-10:00 バグ修正, 10:00-12:00 クライアントミーティング, 12:00-13:00 ランチ, 13:00-14:00 アーキテクチャ設計, 14:00-16:00 デザインレビュー, 16:00-18:00 実装作業",
        "水曜日: 8:00-9:30 メール・チケット対応, 9:30-11:30 コードレビュー, 11:30-13:00 ランチミーティング, 13:00-17:00 ハッカソン, 17:00-19:00 技術勉強会",
        "木曜日: 8:00-10:00 朝作業, 10:00-11:00 1on1ミーティング, 11:00-12:00 ドキュメント作成, 14:00-15:00 障害対応訓練, 15:00-16:30 勉強会, 16:30-18:30 個人開発時間",
        "金曜日: 8:00-9:00 週の振り返り, 9:00-10:00 週次レポート作成, 10:00-11:00 チーム調整, 11:00-12:00 進捗報告, 12:00-13:00 ランチ, 13:30-17:00 開発作業, 17:00-18:00 週末前最終確認"
      ],
      testuser2: [
        "月曜日: 8:00-8:30 デイリープランニング, 8:30-9:30 朝会, 9:30-11:00 コンテンツ企画, 11:00-13:00 マーケティング会議, 13:00-15:00 資料作成, 16:00-18:00 クリエイティブレビュー, 18:00-19:00 翌日準備",
        "火曜日: 8:00-9:00 朝ミーティング, 9:00-12:00 コンテンツ作成, 12:00-13:00 ランチ, 13:00-14:00 SEO分析, 14:00-15:30 SNS戦略ミーティング, 15:30-18:00 広告出稿作業",
        "水曜日: 8:30-10:00 メディアチェック, 10:00-11:30 チームブレスト, 11:30-13:00 ランチセッション, 13:00-14:00 ウェビナー準備, 14:00-16:00 コンテンツ編集, 16:00-17:30 分析レビュー, 17:30-19:00 成果報告準備",
        "木曜日: 8:00-9:00 朝活動チェック, 9:00-10:00 部門MTG, 10:00-12:00 キャンペーン企画, 14:00-16:00 トレーニングセッション, 16:00-18:00 メディア対応準備, 18:00-19:00 デイリーレポート確認",
        "金曜日: 8:00-9:00 週間メトリクス確認, 9:00-10:30 戦略ミーティング, 10:30-12:00 週次振り返り, 12:00-13:30 チームランチ, 14:00-16:00 次週計画策定, 16:00-18:00 週末コンテンツスケジューリング, 18:00-19:00 週間まとめ"
      ],
      testuser3: [
        "月曜日: 8:00-9:00 研究日誌レビュー, 9:00-11:00 データ分析, 11:00-12:00 研究ミーティング, 12:00-13:00 ランチ, 13:00-14:30 レポート作成, 16:00-18:00 文献調査, 18:00-19:00 翌日準備",
        "火曜日: 8:30-10:00 実験準備, 10:00-12:00 研究開発, 12:00-13:00 ランチ, 13:00-15:00 データ解析, 15:00-17:00 実験計画策定, 17:00-19:00 共同研究者とのオンラインミーティング",
        "水曜日: 8:00-9:30 研究機関との打ち合わせ, 9:30-12:00 フィールド調査, 12:00-13:00 ランチ, 13:00-14:00 サンプル整理, 14:00-16:00 データ収集, 16:00-18:00 分析手法検討, 18:00-19:00 メール対応",
        "木曜日: 8:00-8:30 デイリープランニング, 8:30-10:00 進捗確認MTG, 10:00-11:00 資料作成, 11:00-12:00 共同研究ミーティング準備, 14:00-15:00 データセット検証, 15:00-17:30 論文執筆, 17:30-19:00 研究ノート整理",
        "金曜日: 8:00-10:00 週間研究まとめ, 10:00-12:00 成果発表準備, 12:00-13:00 ランチミーティング, 13:00-14:00 統計分析, 14:00-15:30 週次まとめ, 15:30-17:00 次週研究計画立案, 17:00-19:00 研究室ミーティング"
      ],
    };
    const schedule = schedules[username] || [];

    return { schedule };
  },
});


// 月曜日の15:00-16:00と木曜の12:00-14:00のみ空いてる
